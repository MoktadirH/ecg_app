<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>ECG Analyzer</title>
    <link rel="stylesheet" href="/static/styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link href="https://fonts.googleapis.com/css2?family=Inter&display=swap" rel="stylesheet">
  </head>
  <body>
    <!-- Dark‐mode toggle -->
    <div class="theme-switcher">
      <label class="switch">
        <input type="checkbox" id="themeToggle">
        <span class="slider round"></span>
      </label>
    </div>

    <h1>ECG Analyzer</h1>

    <div class="card">
      <input type="file" id="fileInput" multiple accept=".dat,.hea,.qrs,.atr" />
      <button id="analyzeBtn">Analyze</button>
      <button id="runSampleBtn">Run Sample</button>

      <!-- Progress bar + ETA -->
      <progress id="uploadProgress" max="100" value="0" style="display:none;"></progress>
      <span id="eta" class="eta" style="display:none;">ETA: --</span>

      <pre id="jsonOutput">No results yet.</pre>
      <a id="downloadReport" style="display:block; margin-top:10px;"></a>
    </div>

    <div class="card">
      <h2>HRV Metrics</h2>
      <div id="hrvTableContainer"></div>
    </div>

    <div class="card">
      <h2>Beat Predictions</h2>
      <div id="predTableContainer"></div>
    </div>

    <div class="card">
      <h2>ECG Plot</h2>
      <img id="ecgPlot" alt="ECG Plot will appear here" />
    </div>

    <footer style="margin-top:2em; font-size:0.9em; color:#aaa; text-align:center;">
      All data that were acquired are from the <a href="https://physionet.org/about/database/" target="_blank">
        MIT-BIH Database
      </a>. Visit the site for more types of recordings and scenarios.
    </footer>
    <script src="/static/renderer.js"></script>
  </body>
</html>
